function generateCaptcha(){let t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",e="";for(let o=0;o<4;o++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function handleSubmit(){let t=document.getElementById("captcha-input").value;if(t!==captchaValue)document.getElementById("captcha-error").style.display="block",console.log("CAPTCHA does not match.");else{document.getElementById("captcha-error").style.display="none",document.querySelector("#contactForm #mybtn").disabled=!0,document.querySelector("#contactForm #mybtn").value="Please wait...";var e=new FormData(document.querySelector("#contactForm"));e.append("action","submitmyform"),AjaxCform(e)}}async function AjaxCform(t){const e=location.protocol+"//"+window.location.hostname+"/wp-admin/admin-ajax.html?action=submitmyform",o=await fetch(e,{method:"POST",body:t});if(!o.ok)return void console.error("Network response was not ok:",o.statusText);const n=await o.json();console.log(n),"ok"===n.statuse?document.querySelector("#contactForm").innerHTML=`<div id="success">${n.reply}</div>`:"er"===n.statuse&&(document.querySelector("#contactForm span#status").innerHTML=`<div id="er">Ops, ${n.reply}</div>`,document.querySelector("#contactForm #mybtn").disabled=!1,document.querySelector("#contactForm #mybtn").value="Try again")}let captchaValue;document.addEventListener("DOMContentLoaded",function(){captchaValue=generateCaptcha(),document.getElementById("captcha").innerText=captchaValue,document.getElementById("contactForm").addEventListener("submit",function(t){t.preventDefault(),handleSubmit()})});